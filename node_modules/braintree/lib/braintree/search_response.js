//@ sourceMappingURL=search_response.map
// Generated by CoffeeScript 1.6.1
var SearchResponse, _;

_ = require('underscore');

SearchResponse = (function() {

  function SearchResponse(pagingFunction, results) {
    this.ids = results.searchResults.ids;
    this.pageSize = parseInt(results.searchResults.pageSize);
    this.pagingFunction = pagingFunction;
    this.success = true;
  }

  SearchResponse.prototype.first = function(callback) {
    if (this.ids.length === 0) {
      return callback(null, null);
    } else {
      return this.pagingFunction([this.ids[0]], callback);
    }
  };

  SearchResponse.prototype.each = function(callback) {
    var _this = this;
    return _.each(_.range(0, this.ids.length, this.pageSize), function(offset) {
      return _this.pagingFunction(_this.ids.slice(offset, offset + _this.pageSize), callback);
    });
  };

  SearchResponse.prototype.length = function() {
    return this.ids.length;
  };

  return SearchResponse;

})();

exports.SearchResponse = SearchResponse;
